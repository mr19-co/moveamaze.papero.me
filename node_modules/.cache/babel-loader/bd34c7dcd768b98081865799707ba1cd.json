{"remainingRequest":"/home/max/WebstormProjects/moveamaze.papero.me/node_modules/thread-loader/dist/cjs.js!/home/max/WebstormProjects/moveamaze.papero.me/node_modules/babel-loader/lib/index.js!/home/max/WebstormProjects/moveamaze.papero.me/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/max/WebstormProjects/moveamaze.papero.me/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/max/WebstormProjects/moveamaze.papero.me/src/views/Game.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/max/WebstormProjects/moveamaze.papero.me/src/views/Game.vue","mtime":1622991695538},{"path":"/home/max/WebstormProjects/moveamaze.papero.me/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/max/WebstormProjects/moveamaze.papero.me/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/max/WebstormProjects/moveamaze.papero.me/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/max/WebstormProjects/moveamaze.papero.me/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/max/WebstormProjects/moveamaze.papero.me/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVhY3RpdmUgfSBmcm9tICJ2dWUiOwppbXBvcnQgaW8gZnJvbSAic29ja2V0LmlvLWNsaWVudCI7CmltcG9ydCB7IHVybHMgfSBmcm9tICIuLi9jb25zdGFudHMvY29uc3RhbnRzIjsKaW1wb3J0IHdlYnNvY2tldEV2ZW50cyBmcm9tICIuLi9jb25zdGFudHMvd2Vic29ja2V0RXZlbnRzIjsKaW1wb3J0IHsgdXNlUm91dGUgfSBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IFByZUdhbWVQaGFzZSBmcm9tICIuLi9jb21wb25lbnRzL1ByZUdhbWVQaGFzZSI7CmltcG9ydCBHYW1lUGhhc2UgZnJvbSAiLi4vY29tcG9uZW50cy9HYW1lUGhhc2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkdhbWUiLAogIGNvbXBvbmVudHM6IHsKICAgIEdhbWVQaGFzZTogR2FtZVBoYXNlLAogICAgUHJlR2FtZVBoYXNlOiBQcmVHYW1lUGhhc2UKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBzdGF0ZSA9IHJlYWN0aXZlKHsKICAgICAgbG9iYnk6IHsKICAgICAgICBzdGF0dXM6IDAsCiAgICAgICAgYWRtaW46IDAsCiAgICAgICAgeW91ckxvY2FsSWQ6IDAsCiAgICAgICAgcGxheWVyczogewogICAgICAgICAgMDogewogICAgICAgICAgICBsb2NhbElkOiAwLAogICAgICAgICAgICB1c2VybmFtZTogIk1hc3NpbW8iLAogICAgICAgICAgICBjb2xvcjogMAogICAgICAgICAgfSwKICAgICAgICAgIDE6IHsKICAgICAgICAgICAgbG9jYWxJZDogMSwKICAgICAgICAgICAgdXNlcm5hbWU6ICJQaW5vIiwKICAgICAgICAgICAgY29sb3I6IDEKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgdmFyIHJvdXRlID0gdXNlUm91dGUoKTsKICAgIHZhciBzb2NrZXQgPSBpbyh1cmxzLmJhc2VVcmwsIHsKICAgICAgcGF0aDogdXJscy5zb2NrZXRQYXRoLAogICAgICBhdXRvQ29ubmVjdDogdHJ1ZQogICAgfSk7CiAgICBzb2NrZXQub24oImNvbm5lY3QiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHNvY2tldC5lbWl0KHdlYnNvY2tldEV2ZW50cy5DT05ORUNUX1RPX0dBTUUsIHsKICAgICAgICBnYW1lSWQ6IHJvdXRlLnBhcmFtcy5nYW1lSWQKICAgICAgfSk7CiAgICB9KTsKICAgIHNvY2tldC5vbih3ZWJzb2NrZXRFdmVudHMuTE9CQllfTU9ESUZJRUQsIGZ1bmN0aW9uIChsb2JieSkgewogICAgICBzdGF0ZS5sb2JieSA9IGxvYmJ5OwogICAgICBjb25zb2xlLmxvZygnbG9iYnkgbW9kaWZpZWQnKTsKICAgICAgY29uc29sZS5sb2cobG9iYnkpOwogICAgfSk7CgogICAgZnVuY3Rpb24gY2hhbmdlQ29sb3IoY29sb3IpIHsKICAgICAgc29ja2V0LmVtaXQod2Vic29ja2V0RXZlbnRzLkNIQU5HRV9DT0xPUiwgY29sb3IpOwogICAgICBjb25zb2xlLmxvZygnY2hhbmdlZCB0byBjb2xvciAnICsgY29sb3IpOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIHN0YXRlOiBzdGF0ZSwKICAgICAgY2hhbmdlQ29sb3I6IGNoYW5nZUNvbG9yLAogICAgICBzb2NrZXQ6IHNvY2tldAogICAgfTsKICB9Cn07"},{"version":3,"sources":["/home/max/WebstormProjects/moveamaze.papero.me/src/views/Game.vue"],"names":[],"mappings":"AAaA,SAAQ,QAAR,QAAuB,KAAvB;AACA,OAAO,EAAP,MAAe,kBAAf;AACA,SAAS,IAAT,QAAqB,wBAArB;AACA,OAAO,eAAP,MAA4B,8BAA5B;AACA,SAAS,QAAT,QAAyB,YAAzB;AACA,OAAO,YAAP,MAAyB,4BAAzB;AACA,OAAO,SAAP,MAAsB,yBAAtB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,UAAU,EAAE;AAAC,IAAA,SAAS,EAAT,SAAD;AAAY,IAAA,YAAY,EAAZ;AAAZ,GAFC;AAGb,EAAA,KAHa,mBAGL;AACN,QAAM,KAAI,GAAI,QAAQ,CAAC;AACrB,MAAA,KAAK,EAAE;AACL,QAAA,MAAM,EAAE,CADH;AAEL,QAAA,KAAK,EAAE,CAFF;AAGL,QAAA,WAAW,EAAE,CAHR;AAIL,QAAA,OAAO,EAAE;AACP,aAAG;AACD,YAAA,OAAO,EAAE,CADR;AAED,YAAA,QAAQ,EAAE,SAFT;AAGD,YAAA,KAAK,EAAE;AAHN,WADI;AAMP,aAAG;AACD,YAAA,OAAO,EAAE,CADR;AAED,YAAA,QAAQ,EAAE,MAFT;AAGD,YAAA,KAAK,EAAE;AAHN;AANI;AAJJ;AADc,KAAD,CAAtB;AAoBA,QAAM,KAAI,GAAI,QAAQ,EAAtB;AAEA,QAAM,MAAK,GAAI,EAAE,CAAC,IAAI,CAAC,OAAN,EAAe;AAC9B,MAAA,IAAI,EAAE,IAAI,CAAC,UADmB;AAE9B,MAAA,WAAW,EAAE;AAFiB,KAAf,CAAjB;AAKA,IAAA,MAAM,CAAC,EAAP,CAAU,SAAV,EAAqB,YAAM;AACzB,MAAA,MAAM,CAAC,IAAP,CAAY,eAAe,CAAC,eAA5B,EAA6C;AAC3C,QAAA,MAAM,EAAE,KAAK,CAAC,MAAN,CAAa;AADsB,OAA7C;AAGD,KAJD;AAMA,IAAA,MAAM,CAAC,EAAP,CAAU,eAAe,CAAC,cAA1B,EAA0C,UAAC,KAAD,EAAW;AACnD,MAAA,KAAK,CAAC,KAAN,GAAc,KAAd;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,gBAAZ;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,KAJD;;AAMA,aAAS,WAAT,CAAqB,KAArB,EAA4B;AAC1B,MAAA,MAAM,CAAC,IAAP,CAAY,eAAe,CAAC,YAA5B,EAA0C,KAA1C;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,sBAAsB,KAAlC;AACF;;AAEA,WAAO;AACL,MAAA,KAAK,EAAL,KADK;AAEL,MAAA,WAAW,EAAX,WAFK;AAGL,MAAA,MAAK,EAAL;AAHK,KAAP;AAKF;AArDa,CAAf","sourcesContent":["<template>\n  <div>\n    <PreGamePhase\n        :lobby=\"state.lobby\"\n        :socket=\"socket\"\n        v-if=\"state.lobby.status === 0\"\n        @changeColor=\"changeColor\"\n    />\n    <GamePhase v-if=\"state.lobby.status === 1\"/>\n  </div>\n</template>\n\n<script>\nimport {reactive} from \"vue\"\nimport io from \"socket.io-client\"\nimport { urls } from \"../constants/constants\"\nimport websocketEvents from \"../constants/websocketEvents\"\nimport { useRoute } from \"vue-router\"\nimport PreGamePhase from \"../components/PreGamePhase\";\nimport GamePhase from \"../components/GamePhase\";\n\nexport default {\n  name: \"Game\",\n  components: {GamePhase, PreGamePhase},\n  setup() {\n    const state = reactive({\n      lobby: {\n        status: 0,\n        admin: 0,\n        yourLocalId: 0,\n        players: {\n          0: {\n            localId: 0,\n            username: \"Massimo\",\n            color: 0\n          },\n          1: {\n            localId: 1,\n            username: \"Pino\",\n            color: 1\n          }\n        }\n      }\n    })\n\n    const route = useRoute()\n\n    const socket = io(urls.baseUrl, {\n      path: urls.socketPath,\n      autoConnect: true\n    })\n\n    socket.on(\"connect\", () => {\n      socket.emit(websocketEvents.CONNECT_TO_GAME, {\n        gameId: route.params.gameId\n      })\n    })\n\n    socket.on(websocketEvents.LOBBY_MODIFIED, (lobby) => {\n      state.lobby = lobby\n      console.log('lobby modified')\n      console.log(lobby)\n    })\n\n    function changeColor(color) {\n      socket.emit(websocketEvents.CHANGE_COLOR, color)\n      console.log('changed to color ' + color)\n    }\n\n    return {\n      state,\n      changeColor,\n      socket\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":""}]}